<h3>➕ Adicionar Item à Venda</h3>

<form (ngSubmit)="adicionarItem()" #itemForm="ngForm">
 <label for="produto">Produto:</label>
<select id="produto" [(ngModel)]="item.produto_id" name="produto_id" required>
  <option value="" disabled selected>Selecione um produto</option>
  <option *ngFor="let p of produtos" [value]="p.id">{{ p.nome }}</option>
</select>

  <label>Quantidade:</label>
  <input type="number" [(ngModel)]="item.quantidade" name="quantidade" required min="1" />

  <label>Preço Unitário:</label>
  <input type="number" [(ngModel)]="item.preco_unitario" name="preco_unitario" required min="0" />

  <select [disabled]="!permiteParcelamento">
  <option value="1x">À vista</option>
  <option value="2x">2x</option>
  <option value="3x">3x</option>
</select>

<div *ngIf="!permiteParcelamento" class="alert alert-warning">
  Parcelamento está desativado nas configurações.
</div>

  <button type="submit" [disabled]="itemForm.invalid">Adicionar</button>
</form>