<div class="alerta-container">
  <div class="filtros">
    <input type="text" [(ngModel)]="filtroNome" placeholder="üîç Filtrar por nome" />
    <select [(ngModel)]="filtroCategoria">
      <option value="">Todas as categorias</option>
      <option *ngFor="let cat of categorias" [value]="cat">{{ cat }}</option>
    </select>
  </div>

  <p *ngIf="produtosFiltrados.length > 0" class="alerta-estoque">
    ‚ö†Ô∏è Aten√ß√£o! Existem {{ produtosFiltrados.length }} produto(s) com estoque igual ou abaixo de {{ limiteMinimo }} unidades.
  </p>

  <p *ngIf="produtosFiltrados.length === 0" class="mensagem-ok">
    ‚úÖ Todos os produtos est√£o com estoque acima de {{ limiteMinimo }} unidades.
  </p>

  <table *ngIf="produtosFiltrados.length > 0" class="tabela-estoque">
    <thead>
      <tr>
        <th>Produto</th>
        <th>C√≥digo de Barras</th>
        <th>Estoque Atual</th>
        <th>Estoque M√≠nimo<br><small>(limite: {{ limiteMinimo }})</small></th>
        <th>Categoria</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of produtosFiltrados">
        <td>{{ p.nome }}</td>
        <td>{{ p.codigo_barras }}</td>
        <td [ngClass]="{ 'estoque-baixo': p.estoqueAtual <= limiteMinimo }">
          {{ p.estoqueAtual }}
        </td>
        <td>{{ limiteMinimo }}</td>
        <td>{{ p.categoria?.nome }}</td>
      </tr>
    </tbody>
  </table>
</div>